<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/proloaf/favicons/favicon.ico><link rel=apple-touch-icon href=/proloaf/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/proloaf/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/proloaf/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/proloaf/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/proloaf/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/proloaf/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/proloaf/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/proloaf/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/proloaf/favicons/android-192x192.png sizes=192x192><title>config.json | Probabilistic Load Forecasting</title><meta name=description content="Documentation for the ProLoaF Project"><meta property="og:title" content="config.json"><meta property="og:description" content="Basic information about the config.json file"><meta property="og:type" content="article"><meta property="og:url" content="https://sogno.github.io/proloaf/docs/files-and-scripts/config/"><meta property="article:modified_time" content="2022-03-25T21:12:02+01:00"><meta property="og:site_name" content="Probabilistic Load Forecasting"><meta itemprop=name content="config.json"><meta itemprop=description content="Basic information about the config.json file"><meta itemprop=dateModified content="2022-03-25T21:12:02+01:00"><meta itemprop=wordCount content="1203"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="config.json"><meta name=twitter:description content="Basic information about the config.json file"><link rel=preload href=/proloaf/scss/main.min.94ce11f58d187a35be31a6377e251f63f40502f8243aed7bab5db5425c428b6e.css as=style><link href=/proloaf/scss/main.min.94ce11f58d187a35be31a6377e251f63f40502f8243aed7bab5db5425c428b6e.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/proloaf/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Probabilistic Load Forecasting</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/proloaf/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/proloaf/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/proloaf/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-proloafdocs-li><a href=/proloaf/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-proloafdocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsoverview-li><a href=/proloaf/docs/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocsoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsgetting-started-li><a href=/proloaf/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocsgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-proloafdocsfiles-and-scripts-li><a href=/proloaf/docs/files-and-scripts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocsfiles-and-scripts><span>Files and Scripts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsfiles-and-scriptsfc_prep-li><a href=/proloaf/docs/files-and-scripts/fc_prep/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsfc_prep><span>preprocess.py</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsfiles-and-scriptsfc_train-li><a href=/proloaf/docs/files-and-scripts/fc_train/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsfc_train><span>train.py</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsfiles-and-scriptsinterpreter-li><a href=/proloaf/docs/files-and-scripts/interpreter/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsinterpreter><span>interpreter.py</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsfiles-and-scriptsfc_evaluate-li><a href=/proloaf/docs/files-and-scripts/fc_evaluate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsfc_evaluate><span>evaluate.py</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-proloafdocsfiles-and-scriptsconfig-li><a href=/proloaf/docs/files-and-scripts/config/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsconfig><span class=td-sidebar-nav-active-item>config.json</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsfiles-and-scriptsbaselines-li><a href=/proloaf/docs/files-and-scripts/baselines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-proloafdocsfiles-and-scriptsbaselines><span>baselines.py</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocscontribution-guidelines-li><a href=/proloaf/docs/contribution-guidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocscontribution-guidelines><span>Contribution Guidelines</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocstutorials-li><a href=/proloaf/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocstutorials><span>Tutorials</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-proloafdocsreference-li><a href=/proloaf/docs/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-proloafdocsreference><span>Reference</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/google/docsy-example/edit/master/content/en/docs/Files%20and%20Scripts/config.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/google/docsy-example/new/master/content/en/docs/Files%20and%20Scripts/config.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href="https://github.com/google/docsy-example/issues/new?title=config.json" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/google/docsy/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#configuration>Configuration</a></li><li><a href=#tuning-config>Tuning Config</a></li><li><a href=#preprocessing-config>Preprocessing Config</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://sogno.github.io/proloaf/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://sogno.github.io/proloaf/docs/files-and-scripts/>Files and Scripts</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://sogno.github.io/proloaf/docs/files-and-scripts/config/>config.json</a></li></ol></nav><div class=td-content><h1>config.json</h1><div class=lead>Basic information about the config.json file</div><header class=article-meta></header><h3 id=configuration>Configuration</h3><h4 id=main-config>Main Config</h4><p>ProLoaF&rsquo;s configuration file is written using JSON. As such, whitespace is allowed and ignored in your syntax.
We mostly use strings, boolean, and <code>null</code>, to specify the paths, and parameters of our targeted forecasting project.
Numbers and booleans should be unquoted.</p><p>For better readability, we assume in the examples below,
that your working directory is set to the main project path of the cloned
<a href=https://github.com/sogno-platform/proloaf>repository</a>.</p><h4 id=generating-a-configuration-file>Generating a Configuration File</h4><p>A <em>new</em> config file can be generated automatically by using:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>python src<span style=color:#4e9a06>\c</span>onfigmaker.py --new targets/&lt;STATION-NAME&gt;/config.json
</code></pre></div><p>or manually.</p><p>To <em>modify</em> the file, you can change parameters with our helper or apply modifications manually.
When using the helper, your modifications must be set in <code>configmaker.py</code>. You can then run:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>python src<span style=color:#4e9a06>\c</span>onfigmaker.py --mod targets/&lt;STATION-NAME&gt;/config.json
</code></pre></div><h4 id=configuration-loading>Configuration Loading</h4><p>The default location of the main configuration file is <code>./targets/</code> or better <code>./targets/&lt;STATION></code>.
The best practice is to generate sub-directories for each forecasting exercise, i.e. a new <em>station</em>.
As the project originated from electrical load forecasting on substation-level,
the term <em>station</em> or <em>target-station</em> is used to refer to the location or substation identifier
from which the measurement data is originating.<br>Most of the example scripts in ProLoaF use the config file for training and evaluation,
as it serves as a central place for parametrization.</p><p>At this stage you should have the main config file for your forecasting project: <code>./targets/&lt;STATION>/config.json</code>.
<a href=https://github.com/sogno-platform/proloaf/tree/master/src/proloaf>ProLoaF</a> comes with basic functions to parse,
edit and store the config file. We make use of this when calling e.g. our example training script:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ python src<span style=color:#4e9a06>\t</span>rain.py -s opsd
</code></pre></div><p>The flag <code>-s</code> allows us to specify the station name (=target directory) through the string that follows,
i.e. <em>opsd</em>. The &lsquo;train&rsquo; script will expect and parse the config.json given in the target directory.</p><p>You can also manually specify the path to the config file by adding <code>-c &lt;CONFIG_PATH></code> to the above mentioned
statement.</p><blockquote><p><strong><em>Note:</em></strong> If not otherwise specified, during training, per default the neural network maximizes the
<a href=http://jrmeyer.github.io/machinelearning/2017/08/18/mle.html>Maximum Likelihood Estimation of Gaussian Parameters</a>,
for a 95% prediction interval.
This so-called loss criterion can be changed to any metric that quantifies the (probabilistic) performance
of the forecast. A common non-parametric option is the quantile loss.
You can apply quantile loss criterion as follows:</p></blockquote><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>    $ python src<span style=color:#4e9a06>\t</span>rain.py -s opsd --quantiles 0.025 0.975
</code></pre></div><blockquote><p>Here we have specified the 95% prediction interval, by setting <code>q1=0.025</code> and <code>q2=0.975</code>.</p></blockquote><p>See more detailed descriptions and further loss options in the full <a href=#parameter-list>list of parameters</a>.</p><h4 id=path-settings>Path Settings</h4><p>Through the config file the user specifies the data source location, and the directories for logging,
exporting performance analyses and most importantly, the trained RNN model binary.</p><p><strong>Path Specs:</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;data_path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./data/&lt;FILE-NAME&gt;.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;evaluation_path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./oracles/eval_&lt;MODEL-NAME&gt;/&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;output_path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./oracles/&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;exploration_path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./targets/sege/tuning.json&#34;</span><span style=color:#000;font-weight:700>,</span> 
    <span style=color:#204a87;font-weight:700>&#34;log_path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./logs/&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>The output-, exploration- and log- paths may stay unchanged, but the data path and evaluation path must be specified.</p><blockquote><p><strong><em>Note:</em></strong> The data path should contain a csv file that includes all input data column-wise in any time-resolution.
In our example train-& evaluation scripts, the first column is treated as datetime information and declared as
pandas datetime index. <em>oracles</em> is the default naming of the output directory,
in which the prediction model and predictive performance are stored.</p></blockquote><h4 id=timeseries-settings>Timeseries Settings</h4><p>ProLoaF is a machine-learning based timeseries forecasting project. The supervised learning requires data with
a (pandas) datetime index. Typical time resolutions are:<code>ms</code>, <code>s</code>, <code>m</code>, <code>h</code>, <code>d</code>.
Endogenous (lagged) inputs and exogenous (=explanatory) variables that affect the future explained variable,
are split into multiple windows with the sequence length of <code>history_horizon</code> and fed to the encoder.
For better understanding, we recommend
<a href=https://github.com/bentrevett/pytorch-seq2seq/blob/master/1%20-%20Sequence%20to%20Sequence%20Learning%20with%20Neural%20Networks.ipynb>the illustrative guide</a>
on a similar sequence-to-sequence architecture authored by Ben Trevett.</p><p>The time step size is equal to the underlying timeseries data resolution.
The example files apply day-ahead forecasting in hourly resolution.</p><blockquote><p><strong><em>Note:</em></strong> A forecast that produces a predicted sequence starting from the forecasting execution time and including the next day,
is >=24h, depending on the forecast execution time t, e.g. a day-ahead forecast executed at 9 am, shall produce a 40 hour horizon.</p></blockquote><p>Following parameters configure the input- and output- sequence length:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;history_horizon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>42</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;forecast_horizon&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>24</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h4 id=data-partitioning>Data Partitioning</h4><p>In machine learning, we typically split available data to train the model and test its performance.
With the training set, the model is parameterized. By checking against validation data, we track the fitting process.
In a final step, the test set serves to assess and confirm the predictive power of the trained model.
To configure the size of each mentioned set, specify:</p><ul><li><p><strong>train_split</strong>:
Given an input dataframe df, all timestamps before the specified split are used for training:
<code>df[:train_split*df.shape[0]]</code>.</p></li><li><p><strong>validation_split</strong>:
For validation during training, we use all data between train and validation limiters in the dataframe df:
<code>df[train_split*df.shape[0]:validation_split*df.shape[0]]</code>.</p></li></ul><blockquote><p><strong><em>Note:</em></strong> The <em>test_split</em> is set per default, through the remaining input data from df:
<code>df[validation_split*df.shape[0]:]</code>.</p></blockquote><h4 id=data-pre-processing-through-scaling>Data Pre-processing through Scaling</h4><h4 id=feature-selection>Feature Selection</h4><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>    <span style=color:#4e9a06>&#34;feature_groups&#34;</span><span style=color:#a40000>:</span> <span style=color:#000;font-weight:700>[</span>
        <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;main&#34;</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#204a87;font-weight:700>&#34;scaler&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                <span style=color:#4e9a06>&#34;robust&#34;</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#0000cf;font-weight:700>15</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#0000cf;font-weight:700>85</span>
            <span style=color:#000;font-weight:700>],</span>
            <span style=color:#204a87;font-weight:700>&#34;features&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                <span style=color:#4e9a06>&#34;&lt;COLUMN-IDENTIFIER-1&gt;&#34;</span>
            <span style=color:#000;font-weight:700>]</span>
        <span style=color:#000;font-weight:700>}</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>        <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;add&#34;</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#204a87;font-weight:700>&#34;scaler&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                <span style=color:#4e9a06>&#34;minmax&#34;</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#0000cf;font-weight:700>-1.0</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#0000cf;font-weight:700>1.0</span>
            <span style=color:#000;font-weight:700>],</span>
            <span style=color:#204a87;font-weight:700>&#34;features&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                <span style=color:#4e9a06>&#34;&lt;COLUMN-IDENTIFIER-2&gt;&#34;</span>
            <span style=color:#000;font-weight:700>]</span>
        <span style=color:#000;font-weight:700>}</span>
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>        <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;aux&#34;</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#204a87;font-weight:700>&#34;scaler&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#204a87;font-weight:700>&#34;features&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
                <span style=color:#4e9a06>&#34;&lt;COLUMN-IDENTIFIER-3&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#4e9a06>&#34;&lt;COLUMN-IDENTIFIER-4&gt;&#34;</span>
            <span style=color:#000;font-weight:700>]</span>
        <span style=color:#000;font-weight:700>}</span>
    <span style=color:#a40000>]</span>
</code></pre></div><pre><code class=language- encoder_features":" data-lang encoder_features":">        &quot;&lt;COLUMN-IDENTIFIER-1&gt;&quot;,
        &quot;&lt;COLUMN-IDENTIFIER-2&gt;&quot;
    ],
    &quot;decoder_features&quot;: [
        &quot;&lt;COLUMN-IDENTIFIER-3&gt;&quot;,
        &quot;&lt;COLUMN-IDENTIFIER-4&gt;&quot;
    ],

### RNN Cell Type
- GRU: trains typically faster (per epoch) with similar results compared to LSTM cells.
- LSTM
```json
{
    &quot;history_horizon&quot;: 42,
    &quot;forecast_horizon&quot;: 24
}
</code></pre><h4 id=hyperparameters-and-tuning>Hyperparameters and Tuning</h4><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;max_epochs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;batch_size&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;learning_rate&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.0001</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;core_layers&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;rel_linear_hidden_size&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;rel_core_hidden_size&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;dropout_fc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.4</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;dropout_core&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.3</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><ul><li><p><strong>max_epochs</strong>:&mldr;.</p></li><li><p><strong>batch_size</strong>: &mldr;</p></li><li><p><strong>learning_rate</strong>: &mldr;</p></li><li><p><strong>core_layers</strong>: &mldr;</p></li><li><p><strong>rel_linear_hidden_size</strong>: &mldr;</p></li><li><p><strong>rel_core_hidden_size</strong>: &mldr;</p></li><li><p><strong>dropout_fc</strong>: &mldr;</p></li><li><p><strong>dropout_core</strong>: &mldr;</p></li></ul><p>Configure which hyperparameters are optimized and specify each parameters search space through a separate
<a href=#tuning-config>tuning config</a>.</p><blockquote><p><strong><em>Note:</em></strong> Best practice is to save the tuning.config in the same directory in which the main config is given.
However, by setting a <a href=#path-settings>specific exploration_path</a>, the user can direct to a
different location on the machine.</p></blockquote><h4 id=gpu-specs>GPU Specs</h4><p>Some text on cuda id</p><h4 id=selecting-the-best-model>Selecting the best model</h4><ul><li><strong>best_loss</strong>:</li><li><strong>best_score</strong>:</li></ul><h4 id=parameter-list>Parameter List</h4><p>The following table summarizes the default parameters of the main config file:</p><p><strong>Config Params</strong></p><table><thead><tr><th align=center>Parameter</th><th align=center>Data Type</th><th align=center>Value Range</th></tr></thead><tbody><tr><td align=center>history_horizon</td><td align=center>int</td><td align=center>> 0</td></tr><tr><td align=center>forecast_horizon</td><td align=center>int</td><td align=center>> 0</td></tr></tbody></table><p><strong>Shell Params Upon Script Execution</strong></p><p>Example:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>    $ python src<span style=color:#4e9a06>\t</span>rain.py -s opsd --rmse
</code></pre></div><p>or</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>    $ python src<span style=color:#4e9a06>\t</span>rain.py -s opsd --smoothed_quantiles 0.025 0.975
</code></pre></div><table><thead><tr><th align=center>Parameter</th><th align=center>Data Type</th><th align=center>Value Range</th><th align=center>Short Description</th></tr></thead><tbody><tr><td align=center>&ndash;&lt; loss ></td><td align=center>string in shell</td><td align=center>{mse, mape, rmse, mis, nll_gauss, quantiles, smoothed_quantiles, crps}</td><td align=center>Set the loss function for training</td></tr><tr><td align=center>&ndash;ci</td><td align=center>boolean</td><td align=center>True or False</td><td align=center>Enables execution mode optimized for GitLab&rsquo;s CI</td></tr><tr><td align=center>&ndash;logname</td><td align=center>str</td><td align=center>" "</td><td align=center>Name of the run, displayed in Tensorboard</td></tr></tbody></table><h3 id=tuning-config>Tuning Config</h3><blockquote><p>Tensorboard utilization</p></blockquote><p>This project uses Tensorboard to display in-depth information about each train run. Information about the run itself like training time and validation
loss are visible in the <code>Scalars</code> tab. The <code>HParams</code> tab allows sorting of runs by hyper parameters as well as parallel and scatter plots. To define which
data should be logged, a <code>log.json</code> of following structure is used in the targets/ folder of each station:</p><pre><code>{
  &quot;features&quot;: [
    {
      &quot;name&quot;: &quot;time_stamp&quot;
    },
    {
      &quot;name&quot;: &quot;train_loss&quot;
    },
    {
      &quot;name&quot;: &quot;val_loss&quot;
    },
    {
      &quot;name&quot;: &quot;total_time&quot;
    }
  ]
}
</code></pre><p>Install Tensorboard and run the Tensorboard command-line interface as described <a href=https://pytorch.org/tutorials/recipes/recipes/tensorboard_with_pytorch.html>here</a>. The default directory that runs get saved in is the <code>runs/</code> directory.
To display runs in Tensorboard, use <code>tensorboard --logdir=runs</code>, then open a browser and navigate to <a href=127.0.0.1:6006>127.0.0.1:6006</a></p><h3 id=preprocessing-config>Preprocessing Config</h3><div class="text-muted mt-5 pt-3 border-top">Last modified
March 25, 2022
: <a href=https://github.com/google/docsy-example/commit/f78e97090bb0f36bdfe354d358964d39d7fc550d>source is now call src (f78e970)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitLab aria-label=GitLab><a class=text-white target=_blank rel=noopener href=https://git.rwth-aachen.de/acs/public/automation/plf/proloaf aria-label=GitLab><i class="fab fa-gitlab"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://feinev.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=mailto:gguerses@eonerc.rwth-aachen.de aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 E.ON Energy Research Center All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/proloaf/js/main.min.58cf026c413bcc8d9ac51cae3c9f98a6983c4ad449b431137fc299a5e843e833.js integrity="sha256-WM8CbEE7zI2axRyuPJ+Yppg8StRJtDETf8KZpehD6DM=" crossorigin=anonymous></script></body></html>